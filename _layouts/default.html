<!DOCTYPE html>
<html lang="en">
<head>
  {% include head.html %}
</head>

<body class="{{ site.theme_mode }}">
  {% include header.html %}

  <main class="main-content">
    {{ content }}
  </main>

  {% include footer.html %}
  {% include auth-modal.html %}

  <!-- Theme Toggle -->
  <script>
    document.getElementById('themeToggle').onclick = () => {
      document.body.classList.toggle('dark');
      localStorage.setItem('theme', document.body.classList.contains('dark') ? 'dark' : 'light');
    };
    if(localStorage.getItem('theme') === 'dark') {
      document.body.classList.add('dark');
    }
  </script>

  <!-- Mobile Menu Toggle -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const menuToggle = document.getElementById("menuToggle");
      const mainNav = document.getElementById("mainNav");
      menuToggle?.addEventListener("click", () => {
        mainNav.classList.toggle("open");
      });
    });
  </script>

  <!-- Firebase / Auth Scripts -->
  <script src="{{ site.baseurl }}/assets/js/firebase-init.js"></script>
  <script type="module" src="{{ site.baseurl }}/assets/js/auth.js"></script>
  <script type="module" src="{{ site.baseurl }}/assets/js/ui.js"></script>
</body>
</html>
